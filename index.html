<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>
    <h1>Rock Paper Scissors</h1>



<script>
    function getComputerChoice() {
        const random = Math.floor(Math.random() * 3) + 1;
        if (random === 1) {
            return "rock";
        } else if (random === 2) {
            return  "paper";
        } else if (random === 3) {
            return "scissors"
        }
    }
    
    

    let humanScore = 0;
    let computerScore = 0;

    function playGame(userChoice) {

        function playRound(userChoice, computerChoice) {
        const lowerCase = userChoice.toLowerCase();
        let winner = `You won! ${lowerCase} beats ${computerChoice}`;
        let loser = `You lose! ${computerChoice} beats ${lowerCase}`;

        if (lowerCase === computerChoice) {
            result.textContent = "It's a tie"
        } else if (lowerCase === 'rock' && computerChoice === 'scissors') {
            result.textContent = winner;
            humanScore++;
        } else if (lowerCase === 'paper' && computerChoice === 'rock') {
            result.textContent = winner;
            humanScore++;
        } else if (lowerCase === 'scissors' && computerChoice === 'paper') {
            result.textContent = winner;
            humanScore++;
        } else {
            result.textContent = loser;
            computerScore++;
        }
    }   

    const cpuChoice = getComputerChoice();

    playRound(userChoice, cpuChoice);

    score.textContent = `Your Score ${humanScore} : CPU Score ${computerScore}`;

    if(humanScore >= 5) {
        result.textContent = "You got 5 wins!";
        humanScore = 0;
        computerScore = 0;
    } else if(computerScore >= 5) {
        result.textContent = "CPU has won 5 times!";
        humanScore = 0;
        computerScore = 0;
    }
    }

    const rock = document.createElement("button");
    const paper = document.createElement("button");
    const scissors = document.createElement("button");

    rock.textContent = "Rock";
    paper.textContent = "Paper";
    scissors.textContent = "Scissors";

    rock.style.cssText = "font-size: 18px; margin: 5px;"
    paper.style.cssText = "font-size: 18px;"
    scissors.style.cssText = "font-size: 18px; margin: 5px; "

    const score = document.createElement("div");
    score.textContent = `Your Score ${humanScore} - CPU Score ${computerScore}`
    score.style.cssText = "font-size: 24px; font-weight: bold; font-family: sans-serif; padding: 10px;"
    

    const result = document.createElement("div");
    const content = document.querySelector("body");
    content.appendChild(score)

    rock.addEventListener("click", () => playGame("rock"));
    paper.addEventListener("click", () => playGame("paper"));
    scissors.addEventListener("click", () => playGame("scissors"));

    
    content.appendChild(rock)
    content.appendChild(paper)
    content.appendChild(scissors)
    content.appendChild(result);
    
</script>

</body>
</html>